<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Account | Alawusa Heritage</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* -------------------------
       Reset & base
       ------------------------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body { height: 100%; }
    body {
      font-family: 'Poppins', sans-serif;
      background: #f5f5f5;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      color: #222;
    }
    a { color: inherit; text-decoration: none; }

    /* -------------------------
       Header
       ------------------------- */
    header {
      background: #fff;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid #eee;
      flex-wrap: nowrap;
    }

    /* hamburger (desktop hidden) */
    .menu-toggle {
      display: none;
      font-size: 22px;
      line-height: 1;
      cursor: pointer;
      background: transparent;
      border: none;
      padding: 6px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 0 0 auto;
      margin-right: 70px;
    }
    .logo img { display: block; width: 100px;}
    .logo .brand { color: #f68b1e; font-weight: 600; font-size: 18px; }

    /* Search (flexible) */
    .search-bar {
      display: flex;
      flex: 0 0 auto;
      min-width: 200px;                 /* <--- critical for responsive shrinking */
      gap: 0;
      margin: 0 10px;
      margin-left: 20%;
    }

    .search-icon {
      display: none;
    }

    @media (max-width: 768px){
      .search-bar {
        margin: 0px;
        margin-left: 0%;
        flex: 1 1 auto;
      }
    }
    .search-bar input {
      flex: 1 1 auto;
      min-width: 400px;                 /* lets input shrink below content width */
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 6px 0 0 6px;
      outline: none;
      font-size: 14px;
    }
    .search-bar button {
      flex: 0 0 auto;
      padding: 10px 14px;
      border: none;
      background: #4c9949;
      color: #fff;
      border-radius: 0 6px 6px 0;
      cursor: pointer;
      font-weight: 600;
    }

    /* header actions */
    .header-actions {
      display: flex;
      align-items: center;
      gap: 16px;
      flex: 0 0 auto;
    }

    /* user dropdown */
    .user-menu { position: relative; cursor: pointer; }
    .user-menu .greet { font-weight: 500; display:inline-block; padding:6px; }
    .dropdown {
      display: none;
      position: absolute;
      top: calc(100% + 8px);
      right: 0;
      background: #fff;
      border: 1px solid #eee;
      border-radius: 8px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      min-width: 180px;
      z-index: 1001;
      
    }
    .dropdown li { list-style: none; padding: 10px 12px; cursor: pointer; }
    .dropdown li:hover { background: #cef1cd; color: #4e9648; }
    .user-menu:focus-within .dropdown,
    .user-menu:hover .dropdown { display: block; }

    /* cart */
    .cart-wrapper { position: relative; display:inline-block; }
    .shopping-cart {
      width: 22px; height: 22px; display:block;
      object-fit: contain;
    }
    .cart-count {
      position: absolute;
      top: -6px;
      right: -8px;
      background: red;
      color: #fff;
      font-size: 12px;
      font-weight: 700;
      padding: 3px 6px;
      border-radius: 999px;
      border: 0px solid #fff; /* white ring */
      line-height: 1;
    }

    @media (max-width: 768px) {
      .cart-wrapper {
        margin-left: 70px;
      }
    }

    /* help */
    .help { font-weight: 500; cursor: pointer; padding: 6px; }

    @media (max-width: 768px) {
      .help {
        display: none;
      }
    }

    /* -------------------------
       Dashboard layout
       ------------------------- */
    .dashboard-container { display: flex; flex: 1 1 auto; width: 100%; min-height: calc(100vh - 68px); }
    .sidebar {
      background: #fff;
      width: 250px;
      min-height: 100vh;
      padding: 20px;
      border-right: 1px solid #eee;
      transition: transform 260ms cubic-bezier(.2,.9,.3,1);
    }
    .sidebar h2 { font-size: 18px; color: #3a8034; margin-bottom: 18px; }
    .sidebar ul { list-style: none; }
    .sidebar li {
      padding: 11px 10px; margin-bottom: 8px; border-radius: 6px; cursor: pointer; font-weight: 500;
    }
    .sidebar li:hover, .sidebar li.active { background: #cef1cd; color: #4e9648; }

    .main-content { flex: 1 1 auto; padding: 30px; }
    section { background: #fff; padding: 20px; margin-bottom: 18px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }

    /* overlay (for mobile menu) */
    .overlay {
      position: fixed;
      inset: 0;
      display: none;
      background: rgba(0,0,0,0.4);
      z-index: 1000;
    }
    .overlay.show { display: block; }

    .mobile-content {
      display: none;
    }

    /* -------------------------
       Mobile responsiveness
       ------------------------- */
    @media (max-width: 768px) {
      header {
        align-items: center;
        gap: 8px;
        padding: 10px;
      }

      .menu-toggle { display: inline-flex; }
      .logo { order: 2; }
      .menu-toggle { order: 1; }

      /* place header actions to the right */
      .header-actions { order: 3; }

      /* make search full-width below header actions */
      .search-bar {
        order: 4;
        width: 100%;
        margin: 8px 0 0 0;
      }

      /* Sidebar behavior on mobile: slide-in from left */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 260px;
        transform: translateX(-100%); /* hidden by default */
        z-index: 1002;
        box-shadow: 4px 0 18px rgba(0,0,0,0.12);
      }
      .sidebar.open {
        transform: translateX(0); /* visible when open */
      }

      /* when sidebar is open we show overlay (controlled by JS) */
      .dashboard-container { flex-direction: column; }
      .mobile-content { padding: 5px; display: block;}
    }

    /* tiny screen tweaks */
    @media (max-width: 768px) {
      .search-bar input { padding: 9px; font-size: 13px; }
      .search-bar button { padding: 9px 10px; font-size: 13px; }
      .logo .brand { font-size: 16px; }
      .user-menu { display: none;}
      .search-bar { display: none;}
      .search-icon { position: absolute; right: 15px; top: 10%; transform: translateY(-50%); color: #888; font-size: 18px; display: block;}
      .desktop-content { display: none;}

    }

    

    .desktop-content { flex: 1 1 auto; padding: 3px; }
   
    
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <!-- hamburger for mobile -->
    <button class="menu-toggle" id="menuToggle" aria-label="Open menu" aria-expanded="false">☰</button>

    <!-- logo -->
    <div class="logo" role="banner">
      <!-- change to your real logo file -->
      <a href="index.html">
        <img src="Alawusa heritage logo.png" alt="Alawusa Heritage logo">
      </a>
    </div>

    <!-- flexible search -->
    <div class="search-bar" role="search">
      <input id="searchInput" type="search" placeholder="Search for products..." aria-label="Search products">
      <button id="searchBtn" type="button" aria-label="Search">Search</button>
    </div>

    <div class="search-icon">
      <i class="fa fa-search icon"></i>
    </div>

    <!-- actions (user / cart / help) -->
    <div class="header-actions" role="navigation" aria-label="Top actions">
      <div class="user-menu" tabindex="0">
        <span class="greet">Hi, <span id="userName">Customer</span> <i class="fa fa-angle-down"></i></span>
        <ul class="dropdown" role="menu" aria-hidden="true">
          <li role="menuitem"><i class="fa-solid fa-user"></i> <a href="homepage.html" style="margin-left: 15px;">My Profile</a></li>
          <li role="menuitem"><i class="fa-solid fa-box-open"></i> <a href="orders.html" style="margin-left: 15px;">Orders</a></li>
          <li role="menuitem"><i class="fa-solid fa-bookmark"></i> <a href="saved-items" style="margin-left: 15px;">Saved Items</a></li>
          <li role="menuitem"><i class="fa-solid fa-sign-out" style="margin-right: 15px;"></i> Logout</li>
        </ul>
      </div>

      <div class="cart-wrapper" title="Cart">
        <a href="cart.html" aria-label="View cart">
          <!-- fallback is emoji if image missing -->
          <img src="shopping-cart.png" alt="Cart" class="shopping-cart" onerror="this.style.display='none'">
          <span class="cart-count" id="cart-count">0</span>
        </a>
      </div>

      <div class="help">Help</div>
    </div>
  </header>

  <!-- overlay for mobile sidebar -->
  <div class="overlay" id="overlay" aria-hidden="true"></div>

  <!-- Dashboard -->
  <div class="dashboard-container">
    <aside class="sidebar" id="sidebar" aria-hidden="false">
      <h2>My Orders</h2>
      <ul>
        <li><i class="fa-solid fa-user"></i> <a href="homepage.html" style="margin-left: 15px;">Profile  </a> </li>
        <li class="active"><i class="fa-solid fa-box-open"></i> <a href="orders.html" style="margin-left: 15px;">Orders</a></li>
        <li><i class="fa-solid fa-bookmark"></i> <a href="saveditems" style="margin-left: 15px;">Saved Items</a></li>
        <li id="logoutButton"><i class="fa-solid fa-sign-out" style="margin-right: 15px;"></i> Logout</li>
      </ul>
    </aside>


<div class="desktop-content">
    <main class="main-content" id="mainContent">
      <section class="profile-section">
        <h4>Account Information</h4>
        <h5><span id="userName">Customer</span></h5>
      </section>

      <section class="address-section">
        <h4>Edit Address</h4>
      </section>
    </main>
</div>

<div class="mobile-content" >
    <main class="main-content" id="mainContent">
      <section class="profile-section">
        <h1>Welcome, <span id="userName">Loading...</span></h1>
        <p>Email: <span id="userEmail">noreply@example.com</span></p>
        
      </section>
    


      <section class="orders-section">
        <h2>My Orders</h2>
        <ul id="ordersList"><li>No orders yet.</li></ul>
      </section>

      <section class="saved-section">
        <h2>Saved Items</h2>
        <ul id="savedItemsList"><li>No saved items yet.</li></ul>
      </section>
    </main>  
</div>
  </div>

  <script>
    /* -------------------------
       Sidebar toggle + overlay
       ------------------------- */
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    const menuToggle = document.getElementById('menuToggle');

    function openSidebar() {
      sidebar.classList.add('open');
      overlay.classList.add('show');
      menuToggle.setAttribute('aria-expanded', 'true');
      sidebar.setAttribute('aria-hidden', 'false');
      overlay.setAttribute('aria-hidden', 'false');
      // trap focus could be added here for a11y
    }
    function closeSidebar() {
      sidebar.classList.remove('open');
      overlay.classList.remove('show');
      menuToggle.setAttribute('aria-expanded', 'false');
      sidebar.setAttribute('aria-hidden', 'true');
      overlay.setAttribute('aria-hidden', 'true');
    }
    function toggleSidebar() {
      if (sidebar.classList.contains('open')) closeSidebar(); else openSidebar();
    }

    menuToggle.addEventListener('click', toggleSidebar);
    overlay.addEventListener('click', closeSidebar);
    // close with Escape key
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeSidebar(); });

    /* -------------------------
       Cart count (localStorage persistence)
       ------------------------- */
    const CART_KEY = 'alawusa_cart_count';
    const cartCountEl = document.getElementById('cart-count');

    function getCartCount() {
      const raw = localStorage.getItem(CART_KEY);
      return raw ? parseInt(raw, 10) || 0 : 0;
    }
    function setCartCount(n) {
      localStorage.setItem(CART_KEY, String(n));
      cartCountEl.textContent = n;
      // optionally hide when zero:
      cartCountEl.style.display = n > 0 ? 'inline-block' : 'none';
    }

    // wire the demo add-to-cart button (for testing)
    document.getElementById('addCartBtn').addEventListener('click', () => {
      const current = getCartCount();
      setCartCount(current + 1);
    });

    // initialize
    (function init() {
      const initial = getCartCount();
      setCartCount(initial);
      // demo names — set both greeting and main area
      const name = localStorage.getItem('alawusa_user_name') || 'Customer';
      document.getElementById('userGreeting').textContent = name;
      document.getElementById('userNameMain').textContent = name;
    })();

    /* -------------------------
       Simple search behaviour (optional)
       ------------------------- */
    document.getElementById('searchBtn').addEventListener('click', () => {
      const q = document.getElementById('searchInput').value.trim();
      if (!q) { document.getElementById('searchInput').focus(); return; }
      // for demo we just alert — replace with your search route
      window.location.href = `products.html?q=${encodeURIComponent(q)}`;
    });
  </script>

<script>
function updateCartCount() {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  document.getElementById("cartCount").textContent = cart.length;
}
window.onload = updateCartCount;
</script>

</body>
</html>
